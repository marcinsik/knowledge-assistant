# frontend/Dockerfile.dev

# Użyj stabilnego obrazu Node.js z Alpine Linux, jest lżejszy.
FROM node:20-alpine

# Ustaw katalog roboczy w kontenerze. To będzie katalog,
# do którego zamapujemy Twój lokalny kod źródłowy Reacta.
WORKDIR /app

# Kopiuj tylko pliki z zależnościami. To pozwala Dockerowi na cachowanie tej warstwy.
# Jeśli zmienisz package.json/package-lock.json, ta warstwa zostanie przebudowana.
COPY package.json ./
COPY package-lock.json ./

# Zainstaluj wszystkie zależności npm (również te deweloperskie).
RUN npm install

# Wskaż, że kontener będzie nasłuchiwał na porcie 3000.
# Jest to standardowy port dla serwera deweloperskiego Reacta.
EXPOSE 3000

# Domyślna komenda do uruchomienia serwera deweloperskiego Reacta.
# Ważne: serwer musi nasłuchiwać na "0.0.0.0", aby był dostępny z zewnątrz kontenera.
# "npm start" (dla Create React App) zazwyczaj to robi domyślnie.
# Jeśli używasz Vite, komenda może wyglądać np. tak: CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
CMD ["npm", "start"]
